{"ast":null,"code":"import _slicedToArray from\"C:/Users/teodo/Documents/GitHub/utlansystemCha2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{apiAdress}from'../config.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Inventory=function Inventory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),visibleList=_useState2[0],setVisibleList=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allUtstyr=_useState4[0],setAllUtstyr=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),allUtlant=_useState6[0],setAllUtlant=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),notUtlant=_useState8[0],setNotUtlant=_useState8[1];var _useState9=useState('allUtstyr'),_useState10=_slicedToArray(_useState9,2),status=_useState10[0],setStatus=_useState10[1];useEffect(function(){getAllItems();},[]);var getAllItems=function getAllItems(){var req={type:'get',getType:'allUtstyr'};axios.post(apiAdress,req).then(function(res){console.log(res.data);setAllUtstyr(res.data);setVisibleList(res.data);//make the utlant list\nvar utlant=res.data.filter(function(obj){return obj.utlant.status===true;});setAllUtlant(utlant);var notUtlant=res.data.filter(function(obj){return obj.utlant.status===false;});setNotUtlant(notUtlant);});};var list=visibleList.map(function(i){return/*#__PURE__*/_jsxs(\"div\",{className:\"listItem\",id:i.utlant.status?\"green\":\"\",children:[/*#__PURE__*/_jsx(\"p\",{children:i.item}),/*#__PURE__*/_jsx(\"p\",{children:i.info}),/*#__PURE__*/_jsx(\"p\",{children:i.plassering}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",i.barcode,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",i.utlant.utlaner,\" \"]})]},i._id);});var selectAll=function selectAll(){setStatus('allUtstyr');setVisibleList(allUtstyr);};var selectUtlant=function selectUtlant(){setStatus('allUtlant');setVisibleList(allUtlant);};var selectNotUtlant=function selectNotUtlant(){setStatus('notUtlant');setVisibleList(notUtlant);};var handlePlace=function handlePlace(e){var plass=e.target.value;if(plass==='All'){if(status==='allUtstyr'){setVisibleList(allUtstyr);}if(status==='allUtlant'){setVisibleList(allUtlant);}if(status==='notUtlant'){setVisibleList(notUtlant);}return;}if(status==='allUtstyr'){var place=allUtstyr.filter(function(i){return i.plassering===e.target.value;});setVisibleList(place);}if(status==='allUtlant'){var _place=allUtlant.filter(function(i){return i.plassering===e.target.value;});setVisibleList(_place);}if(status==='notUtlant'){var _place2=notUtlant.filter(function(i){return i.plassering===e.target.value;});setVisibleList(_place2);}};var tilbake=function tilbake(){window.history.back();};return/*#__PURE__*/_jsxs(\"div\",{className:\"bigCard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topControl\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Utstyr oversikt\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"wrap\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{onClick:selectAll,value:\"AltUtstyr\",children:\"Ingen filter\"}),/*#__PURE__*/_jsx(\"option\",{onClick:selectUtlant,value:\"Utlant\",children:\"Utl\\xE5nt\"}),/*#__PURE__*/_jsx(\"option\",{onClick:selectNotUtlant,value:\"NotUtlant\",children:\"Ikke utl\\xE5nt\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrap\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Plassering:\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{onClick:handlePlace,value:\"All\",children:\"Ingen filter\"}),/*#__PURE__*/_jsx(\"option\",{onClick:handlePlace,value:\"kameralager\",children:\"Kameralager\"}),/*#__PURE__*/_jsx(\"option\",{onClick:handlePlace,value:\"Utstyrlager\",children:\"Utstyrlager\"}),/*#__PURE__*/_jsx(\"option\",{onClick:handlePlace,value:\"IM lager\",children:\"IM lager\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:/*#__PURE__*/_jsx(\"button\",{className:\"shadow\",onClick:tilbake,id:\"red-gradient\",children:\"Tilbake\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"top\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Item\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Info\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Plassering\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Barocde\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Utl\\xE5ner\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:list})]});};export default Inventory;","map":{"version":3,"sources":["C:/Users/teodo/Documents/GitHub/utlansystemCha2/src/Components/admin/inventory.js"],"names":["React","useEffect","useState","axios","apiAdress","Inventory","visibleList","setVisibleList","allUtstyr","setAllUtstyr","allUtlant","setAllUtlant","notUtlant","setNotUtlant","status","setStatus","getAllItems","req","type","getType","post","then","res","console","log","data","utlant","filter","obj","list","map","i","item","info","plassering","barcode","utlaner","_id","selectAll","selectUtlant","selectNotUtlant","handlePlace","e","plass","target","value","place","tilbake","window","history","back"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport axios from 'axios'\r\nimport {apiAdress} from '../config.json'\r\n\r\nconst Inventory = () => {\r\n\r\n    const [visibleList, setVisibleList] = useState([])\r\n    const [allUtstyr, setAllUtstyr] = useState([])\r\n    const [allUtlant, setAllUtlant] = useState([])\r\n    const [notUtlant, setNotUtlant] = useState([])\r\n    const [status, setStatus] = useState('allUtstyr')\r\n    \r\n\r\n    useEffect(()=>{\r\n        getAllItems()\r\n    },[])\r\n\r\n    const getAllItems = () => {\r\n        let req = {\r\n            type:'get',\r\n            getType:'allUtstyr'\r\n        }\r\n\r\n        axios.post(apiAdress, req)\r\n        .then(res =>{\r\n            console.log(res.data);\r\n            setAllUtstyr(res.data)\r\n            setVisibleList(res.data)\r\n            //make the utlant list\r\n            const utlant = res.data.filter(obj => obj.utlant.status === true)\r\n            setAllUtlant(utlant)\r\n            const notUtlant = res.data.filter(obj => obj.utlant.status === false)\r\n            setNotUtlant(notUtlant)\r\n        })\r\n    }\r\n\r\n    const list = visibleList.map(i =>{\r\n        return(\r\n            <div className=\"listItem\" key={i._id} id={i.utlant.status ? \"green\" : \"\"}>\r\n                <p>{i.item}</p>\r\n                <p>{i.info}</p>\r\n                <p>{i.plassering}</p>\r\n                <p> {i.barcode} </p>\r\n                <p> {i.utlant.utlaner} </p>\r\n                \r\n            </div>\r\n        )\r\n    })\r\n\r\n    const selectAll = () =>{\r\n        setStatus('allUtstyr')\r\n        setVisibleList(allUtstyr)\r\n    }\r\n\r\n    const selectUtlant = () => {\r\n        setStatus('allUtlant')\r\n        setVisibleList(allUtlant)\r\n    }\r\n\r\n    const selectNotUtlant = () =>{\r\n        setStatus('notUtlant')\r\n        setVisibleList(notUtlant)\r\n    }\r\n\r\n    const handlePlace = (e) =>{\r\n        const plass = e.target.value\r\n        if(plass === 'All'){\r\n            if(status === 'allUtstyr'){\r\n                setVisibleList(allUtstyr)\r\n            }\r\n            if(status === 'allUtlant'){\r\n                setVisibleList(allUtlant)\r\n                \r\n            }\r\n            if(status === 'notUtlant'){\r\n                setVisibleList(notUtlant)\r\n            }\r\n            return\r\n        }\r\n\r\n        if(status === 'allUtstyr'){\r\n            const place = allUtstyr.filter(i => i.plassering === e.target.value)\r\n            setVisibleList(place)\r\n        }\r\n        if(status === 'allUtlant'){\r\n            const place = allUtlant.filter(i => i.plassering === e.target.value)\r\n            setVisibleList(place)\r\n        }\r\n        if(status === 'notUtlant'){\r\n            const place = notUtlant.filter(i => i.plassering === e.target.value)\r\n            setVisibleList(place)\r\n        }\r\n\r\n    }\r\n\r\n    const tilbake = () =>{\r\n        window.history.back()\r\n    }\r\n\r\n    return (\r\n        <div className=\"bigCard\">\r\n            <div className=\"topControl\">\r\n                <h2>Utstyr oversikt</h2>\r\n                <div className=\"filters\">\r\n                    <div className=\"wrap\">\r\n                        <h3>Status:</h3>\r\n                        <select>\r\n                           <option onClick={selectAll} value=\"AltUtstyr\">Ingen filter</option>\r\n                           <option onClick={selectUtlant} value=\"Utlant\">Utlånt</option>\r\n                           <option onClick={selectNotUtlant} value=\"NotUtlant\">Ikke utlånt</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"wrap\">\r\n                        <h3>Plassering:</h3>\r\n                        <select>\r\n                            <option onClick={handlePlace} value=\"All\">Ingen filter</option>\r\n                            <option onClick={handlePlace} value=\"kameralager\">Kameralager</option>\r\n                            <option onClick={handlePlace} value=\"Utstyrlager\">Utstyrlager</option>\r\n                            <option onClick={handlePlace} value=\"IM lager\">IM lager</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"wrap\">\r\n                    <button className=\"shadow\" onClick={tilbake} id=\"red-gradient\">Tilbake</button>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"top\">\r\n                <p>Item</p>\r\n                <p>Info</p>\r\n                <p>Plassering</p>\r\n                <p>Barocde</p>\r\n                <p>Utlåner</p>\r\n                </div>\r\n            <div className=\"list\">\r\n                {list}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Inventory\r\n"]},"metadata":{},"sourceType":"module"}