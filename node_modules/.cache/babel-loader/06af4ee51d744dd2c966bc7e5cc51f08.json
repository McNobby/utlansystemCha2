{"ast":null,"code":"import _slicedToArray from\"C:/Users/teodo/Documents/GitHub/utlansystemCha2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useState}from'react';import{useLogin}from'../../loginContext';import Sucsess from'../Sucsess';import{apiAdress}from'../config.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UtstyrReg=function UtstyrReg(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),sucsess=_useState2[0],setSucsess=_useState2[1];var clear=function clear(e){e.target.value=\"\";};var login=useLogin();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),bCode=_useState4[0],setBCode=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),info=_useState8[0],setInfo=_useState8[1];var handleBcode=function handleBcode(e){setBCode(e.target.value);};var handleID=function handleID(e){setId(e.target.value);};var handleInfo=function handleInfo(e){setInfo(e.target.value);};var clearField=function clearField(e){e.target.value=\"\";};var tilbake=function tilbake(){window.location.href=\"/admin\";};var handleSubmit=function handleSubmit(){var utstyr={type:'utstyrRegistrering',_id:bCode,barcode:bCode,item:id,plassering:login.plassering,info:info};if(bCode&&id&&info){axios.post(apiAdress,utstyr).then(function(res){if(res.data==='sendt to db'){//sucsess\nconsole.log('yeyy');setSucsess(true);var bCodeInput=document.querySelector('#bCodeInput');bCodeInput.focus();setTimeout(function(){setSucsess(false);},3000);}});return;}alert(\"Du må fylle inn alle feltene!\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[sucsess?/*#__PURE__*/_jsx(Sucsess,{type:\"Registrert!\"}):\"\",/*#__PURE__*/_jsx(\"input\",{onClick:clearField,onKeyUp:handleBcode,onFocus:clear,type:\"text\",id:\"bCodeInput\",placeholder:\"barcode\"}),/*#__PURE__*/_jsx(\"input\",{onClick:clearField,onKeyUp:handleID,type:\"text\",placeholder:\"ID (f.eks: K10)\"}),/*#__PURE__*/_jsx(\"input\",{onClick:clearField,onKeyUp:handleInfo,type:\"text\",placeholder:\"tilbeh\\xF8r/innhold (batteri, xlr kabel...)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"wrapRow\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Lagre\"}),/*#__PURE__*/_jsx(\"button\",{onClick:tilbake,id:\"red-gradient\",children:\"Tilbake\"})]})]});};export default UtstyrReg;","map":{"version":3,"sources":["C:/Users/teodo/Documents/GitHub/utlansystemCha2/src/Components/admin/UtstyrReg.js"],"names":["axios","React","useState","useLogin","Sucsess","apiAdress","UtstyrReg","sucsess","setSucsess","clear","e","target","value","login","bCode","setBCode","id","setId","info","setInfo","handleBcode","handleID","handleInfo","clearField","tilbake","window","location","href","handleSubmit","utstyr","type","_id","barcode","item","plassering","post","then","res","data","console","log","bCodeInput","document","querySelector","focus","setTimeout","alert"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport React, { useState } from 'react'\r\nimport { useLogin } from '../../loginContext'\r\nimport Sucsess from '../Sucsess'\r\nimport {apiAdress} from '../config.json'\r\n\r\n\r\nconst UtstyrReg = () => {\r\n\r\n    const [sucsess, setSucsess] = useState(false)\r\n\r\n    const clear = (e) =>{\r\n        e.target.value = \"\"\r\n    }\r\n\r\n    const login = useLogin()\r\n\r\n    const [bCode, setBCode] = useState(\"\")\r\n    const [id, setId] = useState(\"\")\r\n    const [info, setInfo] = useState(\"\")\r\n\r\n    const handleBcode = (e) => {\r\n        setBCode(e.target.value)\r\n    }\r\n    const handleID = (e) => {\r\n        setId(e.target.value)\r\n    }\r\n    const handleInfo = (e) => {\r\n        setInfo(e.target.value)\r\n    }\r\n\r\n    const clearField = (e) =>{\r\n        e.target.value = \"\"\r\n    }\r\n\r\n    const tilbake = () =>{\r\n        window.location.href =\"/admin\"\r\n    }\r\n\r\n    const handleSubmit = () =>{\r\n        const utstyr = {\r\n            type: 'utstyrRegistrering',\r\n            _id: bCode,\r\n            barcode: bCode,\r\n            item: id,\r\n            plassering: login.plassering,\r\n            info: info\r\n        }\r\n\r\n        if(bCode && id && info){\r\n            axios.post(apiAdress, utstyr)\r\n            .then((res)=>{\r\n                if(res.data === 'sendt to db'){\r\n                    //sucsess\r\n                    console.log('yeyy');\r\n\r\n                    setSucsess(true)\r\n                    const bCodeInput = document.querySelector('#bCodeInput')\r\n                    bCodeInput.focus()\r\n                    \r\n                    setTimeout(()=>{\r\n                        setSucsess(false)\r\n                    }, 3000)\r\n                }\r\n            })\r\n            return\r\n        }\r\n        alert(\"Du må fylle inn alle feltene!\")\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            {sucsess ? <Sucsess type=\"Registrert!\"/> : \"\"}\r\n\r\n            <input onClick={clearField} onKeyUp={handleBcode} onFocus={clear} type=\"text\" id=\"bCodeInput\" placeholder=\"barcode\"/>\r\n            <input onClick={clearField} onKeyUp={handleID} type=\"text\" placeholder=\"ID (f.eks: K10)\" />\r\n            <input onClick={clearField} onKeyUp={handleInfo} type=\"text\" placeholder=\"tilbehør/innhold (batteri, xlr kabel...)\"/>\r\n\r\n            <div className=\"wrapRow\">\r\n                <button onClick={handleSubmit}>Lagre</button>\r\n                <button onClick={tilbake} id=\"red-gradient\">Tilbake</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UtstyrReg\r\n"]},"metadata":{},"sourceType":"module"}