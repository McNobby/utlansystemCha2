{"ast":null,"code":"import _slicedToArray from\"C:/Users/teodo/Documents/GitHub/utlansystemCha2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useUpdateLogin}from'../loginContext';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TeacherLogin=function TeacherLogin(){var updateLogin=useUpdateLogin();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var handleInput=function handleInput(e){setInput(e.target.value);if(e.key==='Enter'){handleSubmit();}};var handleSubmit=function handleSubmit(){var req={type:'get',getType:'user',userID:input};axios.post('http://127.0.0.1:6969/api',req).then(function(res){var user=res.data;console.log(res,user);if(user.teacher){updateLogin({teacher:user.navn});window.location.href=\"/\";return;}alert('Fant deg ikke som en lærer');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"narrow-card\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Scan ditt kort\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onKeyUp:handleInput,placeholder:\"Scan kortet ditt\",autoFocus:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"submit-btn\",children:\"Logg inn\"})]});};export default TeacherLogin;","map":{"version":3,"sources":["C:/Users/teodo/Documents/GitHub/utlansystemCha2/src/Components/TeacherLogin.js"],"names":["React","useState","useUpdateLogin","axios","TeacherLogin","updateLogin","input","setInput","handleInput","e","target","value","key","handleSubmit","req","type","getType","userID","post","then","res","user","data","console","log","teacher","navn","window","location","href","alert"],"mappings":"kIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,cAAT,KAA+B,iBAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAEvB,GAAMC,CAAAA,WAAW,CAAGH,cAAc,EAAlC,CAEA,cAA0BD,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAM,CACtBF,QAAQ,CAACE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACA,GAAGF,CAAC,CAACG,GAAF,GAAU,OAAb,CAAqB,CACjBC,YAAY,GACf,CACJ,CALD,CAOA,GAAMA,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAK,CAEtB,GAAMC,CAAAA,GAAG,CAAG,CACRC,IAAI,CAAE,KADE,CAERC,OAAO,CAAE,MAFD,CAGRC,MAAM,CAAEX,KAHA,CAAZ,CAKAH,KAAK,CAACe,IAAN,CAAW,2BAAX,CAAwCJ,GAAxC,EACCK,IADD,CACM,SAACC,GAAD,CAAO,CACT,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACE,IAAjB,CACAC,OAAO,CAACC,GAAR,CAAYJ,GAAZ,CAAiBC,IAAjB,EACA,GAAGA,IAAI,CAACI,OAAR,CAAgB,CAEZpB,WAAW,CAAC,CAACoB,OAAO,CAAEJ,IAAI,CAACK,IAAf,CAAD,CAAX,CACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,GAAvB,CACA,OACH,CACDC,KAAK,CAAC,4BAAD,CAAL,CACH,CAXD,EAaH,CApBD,CAsBA,mBACI,aAAK,SAAS,CAAC,aAAf,wBACI,sCADJ,cAEI,cAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,CAAEtB,WAAhC,CAA6C,WAAW,CAAC,kBAAzD,CAA4E,SAAS,KAArF,EAFJ,cAGI,eAAQ,OAAO,CAAEK,YAAjB,CAA+B,SAAS,CAAC,YAAzC,sBAHJ,GADJ,CAOH,CA1CD,CA4CA,cAAeT,CAAAA,YAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { useUpdateLogin } from '../loginContext'\r\nimport axios from 'axios'\r\n\r\nconst TeacherLogin = () => {\r\n\r\n    const updateLogin = useUpdateLogin()\r\n\r\n    const [input, setInput] = useState(\"\")\r\n\r\n    const handleInput = (e) =>{\r\n        setInput(e.target.value)\r\n        if(e.key === 'Enter'){\r\n            handleSubmit()\r\n        }\r\n    }\r\n\r\n    const handleSubmit = () =>{\r\n        \r\n        const req = {\r\n            type: 'get',\r\n            getType: 'user',\r\n            userID: input\r\n        }\r\n        axios.post('http://127.0.0.1:6969/api', req)\r\n        .then((res)=>{\r\n            const user = res.data\r\n            console.log(res, user);\r\n            if(user.teacher){\r\n\r\n                updateLogin({teacher: user.navn})\r\n                window.location.href = \"/\"\r\n                return\r\n            }\r\n            alert('Fant deg ikke som en lærer')\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"narrow-card\">\r\n            <h2>Scan ditt kort</h2>\r\n            <input type=\"password\" onKeyUp={handleInput} placeholder=\"Scan kortet ditt\" autoFocus />\r\n            <button onClick={handleSubmit} className=\"submit-btn\">Logg inn</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TeacherLogin\r\n"]},"metadata":{},"sourceType":"module"}