{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teodo\\\\Documents\\\\GitHub\\\\utlansystemCha2\\\\src\\\\Components\\\\loginCard.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useUpdateLogin, useLogin } from '../loginContext';\nimport axios from 'axios';\nimport { apiAdress } from './config.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function LoginCard() {\n  _s();\n\n  const isLoggedIn = useLogin();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"narrow-card\",\n    children: isLoggedIn.navn ? /*#__PURE__*/_jsxDEV(LoggedIn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 32\n    }, this) : /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 47\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this);\n}\n\n_s(LoginCard, \"XrDNc1FU979DhrUhl0L3ZEyRleQ=\", false, function () {\n  return [useLogin];\n});\n\n_c = LoginCard;\n\nconst LoggedIn = () => {\n  const handleClick = () => {\n    window.location.href = \"/\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Du er allerede logget inn!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      className: \"submit-btn\",\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Send meg til rett plass\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 66\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n};\n\n_c2 = LoggedIn;\n\nconst LoginForm = () => {\n  _s2();\n\n  const updateLogin = useUpdateLogin();\n  const [input, setInput] = useState(\"\");\n\n  const handleClick = e => {\n    setInput(e.target.value);\n\n    if (e.key === 'Enter') {\n      handleSubmit();\n    }\n  };\n\n  const handleSubmit = async () => {\n    const req = {\n      type: 'get',\n      getType: 'user',\n      userID: input\n    };\n    axios.post(apiAdress, req).then(res => {\n      const user = res.data;\n      console.log(res, user);\n\n      if (user.navn) {\n        updateLogin(user);\n        window.location.href = \"/\";\n        return;\n      }\n\n      alert('error');\n    });\n  };\n\n  const regButtonClick = () => {\n    window.location.href = \"/registrer\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Logg inn elev\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      autoFocus: true,\n      onKeyUp: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Logg inn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 44\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: regButtonClick,\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Registrer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s2(LoginForm, \"WVIO84RhfyhTvJ4fZkoCNCoV8UM=\", false, function () {\n  return [useUpdateLogin];\n});\n\n_c3 = LoginForm;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"LoginCard\");\n$RefreshReg$(_c2, \"LoggedIn\");\n$RefreshReg$(_c3, \"LoginForm\");","map":{"version":3,"sources":["C:/Users/teodo/Documents/GitHub/utlansystemCha2/src/Components/loginCard.js"],"names":["React","useState","useUpdateLogin","useLogin","axios","apiAdress","LoginCard","isLoggedIn","navn","LoggedIn","handleClick","window","location","href","LoginForm","updateLogin","input","setInput","e","target","value","key","handleSubmit","req","type","getType","userID","post","then","res","user","data","console","log","alert","regButtonClick"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport { useUpdateLogin, useLogin } from '../loginContext'\r\nimport axios from 'axios'\r\nimport {apiAdress} from './config.json'\r\n\r\n\r\nexport default function LoginCard() {\r\n\r\n    const isLoggedIn = useLogin()\r\n\r\n    return(\r\n        <div className=\"narrow-card\">\r\n            {isLoggedIn.navn ? <LoggedIn /> : <LoginForm />}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst LoggedIn = () => {\r\n    const handleClick = () =>{\r\n        window.location.href = \"/\"\r\n    }\r\n    return(\r\n        <div>\r\n            <h2>Du er allerede logget inn!</h2>\r\n            <button onClick={handleClick} className=\"submit-btn\"><h4>Send meg til rett plass</h4></button>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nconst LoginForm = () => {\r\n\r\n    const updateLogin = useUpdateLogin()\r\n\r\n    const [input, setInput] = useState(\"\")\r\n\r\n    const handleClick = (e) =>{\r\n        setInput(e.target.value)\r\n        \r\n        if (e.key === 'Enter'){\r\n            handleSubmit()\r\n        }\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n\r\n\r\n        const req = {\r\n            type: 'get',\r\n            getType: 'user',\r\n            userID: input\r\n        }\r\n        axios.post(apiAdress, req)\r\n        .then((res)=>{\r\n            const user = res.data\r\n            console.log(res, user);\r\n            if(user.navn){\r\n                updateLogin(user)\r\n                window.location.href = \"/\"\r\n                return\r\n            }\r\n            alert('error')\r\n        })\r\n    \r\n    }\r\n\r\n    const regButtonClick = () =>{\r\n        window.location.href=\"/registrer\"\r\n    }\r\n\r\n    return(\r\n        \r\n        <>\r\n            <h2>Logg inn elev</h2>\r\n            <input type=\"password\"autoFocus onKeyUp={handleClick} />\r\n\r\n            <div className=\"wrap-row\">\r\n            <button onClick={handleSubmit}><h4>Logg inn</h4></button>\r\n            <button onClick={regButtonClick} ><h4>Registrer</h4></button>\r\n            \r\n            </div>\r\n            \r\n        </>\r\n        \r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}