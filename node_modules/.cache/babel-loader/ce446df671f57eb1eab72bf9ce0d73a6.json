{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teodo\\\\Documents\\\\GitHub\\\\Chamedia utlan ui rework\\\\chamedia-utlan\\\\src\\\\loginContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginContext = /*#__PURE__*/React.createContext();\nconst UpdateLoginContext = /*#__PURE__*/React.createContext();\nexport function useLogin() {\n  _s();\n\n  return useContext(LoginContext);\n}\n\n_s(useLogin, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function useUpdateLogin() {\n  _s2();\n\n  return useContext(UpdateLoginContext);\n}\n\n_s2(useUpdateLogin, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function LoginProvider({\n  children\n}) {\n  _s3();\n\n  const elevID = localStorage.getItem('elevID');\n  const elevNavn = localStorage.getItem('elevNavn');\n  const teacher = localStorage.getItem('teacher');\n  const plassering = localStorage.getItem('plassering');\n  const utlant = localStorage.getItem('utlant');\n  const login = {\n    navn: elevNavn,\n    id: elevID,\n    teacher: teacher,\n    plassering: plassering,\n    utlant: utlant\n  };\n  console.log(login, 'start');\n  const [loginState, setLoginState] = useState(login); //expecting {name: \"\", id:\"\"}\n\n  function updateLogin(obj) {\n    setLoginState(obj);\n\n    if (obj.navn) {\n      localStorage.setItem('elevID', obj._id);\n      localStorage.setItem('elevNavn', obj.navn);\n      localStorage.setItem('utlant', JSON.stringify(obj.utlant));\n      const plassering = localStorage.getItem('plassering');\n      const teacher = localStorage.getItem('teacher');\n      setLoginState({ ...obj,\n        teacher: teacher,\n        plassering: plassering\n      });\n      return;\n    }\n\n    if (obj.teacher) {\n      localStorage.setItem('teacher', obj.teacher);\n      const plassering = localStorage.getItem('plassering');\n      console.log(loginState);\n      setLoginState({ ...obj,\n        plassering: plassering\n      });\n      return;\n    }\n\n    if (obj.plassering) {\n      localStorage.setItem('plassering', obj.plassering);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(LoginContext.Provider, {\n    value: loginState,\n    children: /*#__PURE__*/_jsxDEV(UpdateLoginContext.Provider, {\n      value: updateLogin,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n\n_s3(LoginProvider, \"k8pxKt4YkuN9uiWS69hPxvQHkoQ=\");\n\n_c = LoginProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginProvider\");","map":{"version":3,"sources":["C:/Users/teodo/Documents/GitHub/Chamedia utlan ui rework/chamedia-utlan/src/loginContext.js"],"names":["React","useContext","useState","LoginContext","createContext","UpdateLoginContext","useLogin","useUpdateLogin","LoginProvider","children","elevID","localStorage","getItem","elevNavn","teacher","plassering","utlant","login","navn","id","console","log","loginState","setLoginState","updateLogin","obj","setItem","_id","JSON","stringify"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react'\r\n\r\nconst LoginContext = React.createContext()\r\nconst UpdateLoginContext = React.createContext()\r\n\r\nexport function useLogin() {\r\n    return useContext(LoginContext)\r\n    \r\n}\r\n\r\nexport function useUpdateLogin() {\r\n    return useContext(UpdateLoginContext)\r\n}\r\n\r\nexport function LoginProvider({ children }) {\r\n    const elevID = localStorage.getItem('elevID')\r\n    const elevNavn = localStorage.getItem('elevNavn')\r\n    const teacher = localStorage.getItem('teacher')\r\n    const plassering = localStorage.getItem('plassering')\r\n    const utlant = localStorage.getItem('utlant')\r\n\r\n    const login = {navn: elevNavn, id: elevID, teacher: teacher, plassering: plassering, utlant: utlant}\r\n    console.log(login, 'start');\r\n    const [loginState, setLoginState] = useState(login) //expecting {name: \"\", id:\"\"}\r\n    \r\n\r\n\r\n\r\n    function updateLogin(obj) {\r\n        setLoginState(obj)\r\n\r\n        if (obj.navn){\r\n            localStorage.setItem('elevID', obj._id)\r\n            localStorage.setItem('elevNavn', obj.navn)\r\n            localStorage.setItem('utlant', JSON.stringify(obj.utlant))\r\n            const plassering = localStorage.getItem('plassering')\r\n            const teacher = localStorage.getItem('teacher')\r\n\r\n            setLoginState({...obj, teacher: teacher, plassering: plassering,})\r\n            return\r\n        }\r\n        if (obj.teacher){\r\n            localStorage.setItem('teacher', obj.teacher)\r\n            const plassering = localStorage.getItem('plassering')\r\n            \r\n\r\n            console.log(loginState);\r\n            setLoginState({...obj, plassering: plassering})\r\n            return\r\n        }\r\n        if(obj.plassering){\r\n            localStorage.setItem('plassering', obj.plassering)\r\n        }\r\n\r\n    }\r\n\r\n    return(\r\n        <LoginContext.Provider value={loginState}>\r\n            <UpdateLoginContext.Provider value={updateLogin}>\r\n                {children}\r\n            </UpdateLoginContext.Provider>\r\n        </LoginContext.Provider>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}